<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buy coin</title>
    <link rel="stylesheet" href="styles5.css">
</head>
<body>
    <div class="transaction-container">
        <h1>Buy Cryptocurrency</h1>
        <div class="crypto-details">
            <img id="crypto-logo" src="" alt="Crypto Logo" class="crypto-logo">
            <h2 id="crypto-name"></h2>
            <p id="crypto-symbol"></p>
            <p id="crypto-price"></p>
        </div>

        <form id="buy-form">
            <label for="amount">Amount to Buy:</label>
            <input type="number" id="amount" name="amount" min="1" required>

            <button type="submit">Buy Now</button>
        </form>
    </div>

    <script>
        // Function to get query parameters from URL
        function getQueryParams() {
            const params = new URLSearchParams(window.location.search);
            return {
                symbol: params.get('symbol'),
                name: params.get('name'),
                price: parseFloat(params.get('price')).toFixed(2)
            };
        }

        // Function to display cryptocurrency details on the page
        function displayCryptoDetails() {
            const { symbol, name, price } = getQueryParams();

            document.getElementById('crypto-name').innerText = name;
            document.getElementById('crypto-symbol').innerText = `Symbol: ${symbol}`;
            document.getElementById('crypto-price').innerText = `Price: $${price}`;
            document.getElementById('crypto-logo').src = `https://cryptoicons.org/api/icon/${symbol.toLowerCase()}/200`; // Fetch icon based on symbol
            document.getElementById('crypto-logo').alt = `${name} logo`;
        }

        // Function to handle the form submission
        function handleFormSubmit(event) {
            event.preventDefault();
            const amount = document.getElementById('amount').value;
            const { symbol, name, price } = getQueryParams();

            alert(`You have successfully bought ${amount} ${name} (${symbol}) at $${price} each!`);
            // Implement further actions such as saving the transaction data to the database
        }

        // Initialize the page with the cryptocurrency details
        document.addEventListener('DOMContentLoaded', () => {
            displayCryptoDetails();

            const buyForm = document.getElementById('buy-form');
            buyForm.addEventListener('submit', handleFormSubmit);
        });
    </script>
</body>
</html>
